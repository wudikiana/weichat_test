<!--profile-edit.wxml-->
<view class="container">
  <view class="avatar-section">
    <view class="avatar-wrapper">
      <t-avatar size="large" image="{{userInfo.avatarUrl || '/assets/images/default-avatar.png'}}" />
      <view class="avatar-edit-btn" bind:tap="chooseAvatar">
        <t-icon name="camera" size="16px" color="#ffffff" />
      </view>
    </view>
    <text class="avatar-tip">点击更换头像</text>
  </view>

  <t-cell-group>
    <t-cell title="昵称" arrow>
      <t-input
        slot="note"
        value="{{userInfo.nickName}}"
        placeholder="请输入昵称"
        maxlength="20"
        bind:change="onNickNameChange"
      />
    </t-cell>

    <t-cell title="年龄" arrow>
      <t-input
        slot="note"
        type="number"
        value="{{userInfo.age}}"
        placeholder="请输入年龄"
        maxlength="3"
        bind:change="onAgeChange"
      />
    </t-cell>

    <t-cell title="性别">
      <t-radio-group slot="note" value="{{userInfo.gender}}" bind:change="onGenderChange">
        <t-radio value="男" label="男" />
        <t-radio value="女" label="女" />
      </t-radio-group>
    </t-cell>

    <t-cell title="身高" arrow>
      <view slot="note" class="input-with-unit">
        <t-input
          type="digit"
          value="{{userInfo.height}}"
          placeholder="请输入身高"
          maxlength="5"
          bind:change="onHeightChange"
        />
        <text class="unit">cm</text>
      </view>
    </t-cell>

    <t-cell title="体重" arrow>
      <view slot="note" class="input-with-unit">
        <t-input
          type="digit"
          value="{{userInfo.weight}}"
          placeholder="请输入体重"
          maxlength="5"
          bind:change="onWeightChange"
        />
        <text class="unit">kg</text>
      </view>
    </t-cell>

    <t-cell title="手机号" arrow>
      <t-input
        slot="note"
        type="number"
        value="{{userInfo.phone}}"
        placeholder="请输入手机号"
        maxlength="11"
        bind:change="onPhoneChange"
      />
    </t-cell>
  </t-cell-group>

  <view class="save-btn-wrapper">
    <t-button theme="primary" size="large" bind:tap="saveUserInfo">保存</t-button>
  </view>

  <!-- BMI参考信息 -->
  <view class="bmi-info">
    <text class="bmi-title">BMI参考</text>
    <view class="bmi-table">
      <view class="bmi-row header">
        <text class="bmi-cell">分类</text>
        <text class="bmi-cell">BMI范围</text>
      </view>
      <view class="bmi-row">
        <text class="bmi-cell">偏瘦</text>
        <text class="bmi-cell">&lt; 18.5</text>
      </view>
      <view class="bmi-row">
        <text class="bmi-cell">正常</text>
        <text class="bmi-cell">18.5 - 24</text>
      </view>
      <view class="bmi-row">
        <text class="bmi-cell">偏胖</text>
        <text class="bmi-cell">24 - 28</text>
      </view>
      <view class="bmi-row">
        <text class="bmi-cell">肥胖</text>
        <text class="bmi-cell">&gt;= 28</text>
      </view>
    </view>
  </view>
</view>
